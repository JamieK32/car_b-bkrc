#ifndef _OPENMV_H
#define _OPENMV_H

extern uint8_t Data_Type;
extern uint8_t Data_Flag;
extern uint8_t Data_Length;
extern uint8_t OpenMv_AGVData_Flag;
extern uint8_t QRcode_Flag;
extern uint8_t QR_DataLength;
extern int sum;
extern uint8_t Formula_length;//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭€瑰嫭鍣磋ぐ鎺戠倞鐟滃寮搁弽顓熺厸闁搞儯鍎遍悘鈺冪磼閹邦収娈滈柡宀€鍠栭幃褔宕奸悢鍝勫殥闂備礁鎲￠崹瑙勬叏閹绢喖鐓橀柟杈鹃檮閸嬫劙鎮楅崷顓炐㈡い銉︾箘缁辨挻鎷呴崫鍕碘偓宀勬煕閵婏箑鈻曢柛鈹惧亾濡炪倖甯掗崐褰掑吹閳ь剟鏌ｆ惔銏犲毈闁告鏅划鈺呮偄閻撳骸鑰垮┑鐐叉閸旀洟宕㈣ぐ鎺撯拺闂侇偆鍋涢懟顖涙櫠鐎涙ɑ鍙忓┑鐘插鐢盯鏌熷畡鐗堝殗闁瑰磭鍋ゆ俊鐤槹闁逞屽墮閿曨亜顫忓ú顏勪紶闁靛鍎涢敐澶嬬厱闁哄啠鍋撻柣鐔村劦椤㈡岸鏁愭径濠傜獩婵犵數濮寸€氼噣鎯侀崼婵冩斀妞ゆ梹鏋绘笟娑㈡煕閹惧娲存い銏＄懇瀹曞崬鈽夊▎灞惧缂傚倸鍊烽悞锕傛晪闂佽绻愬畷顒勫煘閹达富鏁婇柛婵嗗閸嬫挸鈹戦崱鈺佹闂佸搫琚崕杈╃不閻熸噴褰掓晲閸涱喛纭€闂佸憡蓱閹倸顫忛搹鍦煓闁圭ǹ瀛╅幏閬嶆⒑閹稿骸鍝洪柡灞界Х椤т線鏌涢幘鏉戝摵闁诡啫鍐ｅ牚闁割偅绻勯崝锕€顪冮妶鍡楃瑐闁煎啿鐖煎畷顖炲蓟閵夛妇鍘甸梺鍛婂灟閸婃牜鈧熬鎷�

uint8_t reverse_bits(uint8_t x);






extern uint8_t QR_Data_OTABuf[40];			//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭€瑰嫭鍣磋ぐ鎺戠倞鐟滃寮搁弽顓熺厸闁搞儯鍎遍悘鈺冪磼閹邦収娈滈柡宀€鍠栭幃褔宕奸悢鍝勫殥闂備礁鎲￠崹瑙勬叏閹绢喖鐓橀柟杈鹃檮閸嬫劙鎮楅崷顓炐㈡い銉︾箘缁辨挻鎷呴崫鍕碘偓宀勬煕閵娿倕宓嗛柍銉︽瀹曟﹢顢旀担闀愬闂佹寧绻傜花鑲╄姳缂佹ǜ浜滈柟鍝勵儏閻忣亜菐閸パ嶈含妞ゃ垺绋戦～婵嬪箲閹邦剚鍎撳┑鐘愁問閸犳牠鏁冮妸銉㈡瀺闁挎繂顦粻鏌ユ煕閺囥劌鐏犻幆鐔兼⒑闂堟侗妾у┑鈥虫喘閸┾偓妞ゆ帒瀚悾鐑樻叏婵犲啯銇濈€规洦鍋婂畷鐔兼濞戞ê顥嶅┑锛勫亼閸娿倝宕㈡ィ鍐ㄧ婵せ鍋撻柟顔诲嵆椤㈡瑧鎹勯妸褎婢戞繝鐢靛仦閸ㄥ爼鎮烽妷鈺佺劦妞ゆ巻鍋撴い顓犲厴瀵濡舵径濠勭暢闂佸湱鍎ら崹鍨叏閺囩偐鏀介柣鎰级閸ｇ兘鏌涢妸銊︻棄妞ゎ偄绻愮叅妞ゅ繐瀚粣娑欑節閻㈤潧孝閻庢凹鍙冨畷铏鐎ｎ偀鎷虹紓浣割儐椤戞瑩宕曡箛鏂剧箚妞ゆ劧绲跨粻鏍庨崶褝鍔熼柍褜鍓涢弫鍝ユ兜閸洖纾婚柟鍓х帛閺呮煡骞栫划鐟板⒉闁诲繐鐗忕槐鎾存媴閸濆嫷鈧矂鏌涢妸銉у煟鐎殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁诲倿骞夊☉銏犵缂備焦顭囬崢鎼佹⒑閸涘﹣绶遍柛鐘愁殜瀹曟劙骞囬悧鍫㈠幐閻庡厜鍋撻悗锝庡墰閻﹀牓鎮楃憴鍕閻㈩垱甯熼悘鎺楁煟閻愬鈻撻柍褜鍓欓崢鏍ㄧ珶閺囥垺鈷戦柛婵嗗閳诲鏌涚€Ｑ冧壕闂備胶枪椤戝棝骞愰幖渚婄稏婵犻潧顑愰弫鍡涙煕鐏炲墽鏁栭柕濞炬櫆閳锋垿鏌涘┑鍡楊伂妞ゎ偓绠撻弻娑㈠籍閳ь剟宕归崸妤冨祦闁告劦鍠栭～鍛存煏閸繃鍣圭紒鎰⊕缁绘繈鎮介棃娴躲垽鎮楀闂寸敖婵″弶鍔欏鎾閳锯偓閹风粯绻涙潏鍓ф偧闁稿簺鍊濆畷鐢稿焵椤掑嫭鈷戦柟鑲╁仜閳ь剚鐗犻幃褔鎮╅懡銈呯ウ闂婎偄娲︾粙鎺楀疾閹间焦鐓ラ柣鏇炲€圭€氾拷
extern uint8_t QR_Data_OTABuf_1[40];			//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭€瑰嫭鍣磋ぐ鎺戠倞鐟滃寮搁弽顓熺厸闁搞儯鍎遍悘鈺冪磼閹邦収娈滈柡宀€鍠栭幃褔宕奸悢鍝勫殥闂備礁鎲￠崹瑙勬叏閹绢喖鐓橀柟杈鹃檮閸嬫劙鎮楅崷顓炐㈡い銉︾箘缁辨挻鎷呴崫鍕碘偓宀勬煕閵娿倕宓嗛柍銉︽瀹曟﹢顢旀担闀愬闂佹寧绻傜花鑲╄姳缂佹ǜ浜滈柟鍝勵儏閻忣亜菐閸パ嶈含妞ゃ垺绋戦～婵嬪箲閹邦剚鍎撳┑鐘愁問閸犳牠鏁冮妸銉㈡瀺闁挎繂顦粻鏌ユ煕閺囥劌鐏犻幆鐔兼⒑闂堟侗妾у┑鈥虫喘閸┾偓妞ゆ帒瀚悾鐑樻叏婵犲啯銇濈€规洦鍋婂畷鐔兼濞戞ê顥嶅┑锛勫亼閸娿倝宕㈡ィ鍐ㄧ婵せ鍋撻柟顔诲嵆椤㈡瑧鎹勯妸褎婢戞繝鐢靛仦閸ㄥ爼鎮烽妷鈺佺劦妞ゆ巻鍋撴い顓犲厴瀵濡舵径濠勭暢闂佸湱鍎ら崹鍨叏閺囩偐鏀介柣鎰级閸ｇ兘鏌涢妸銊︻棄妞ゎ偄绻愮叅妞ゅ繐瀚粣娑欑節閻㈤潧孝閻庢凹鍙冨畷铏鐎ｎ偀鎷虹紓浣割儐椤戞瑩宕曡箛鏂剧箚妞ゆ劧绲跨粻鏍庨崶褝鍔熼柍褜鍓涢弫鍝ユ兜閸洖纾婚柟鍓х帛閺呮煡骞栫划鐟板⒉闁诲繐鐗忕槐鎾存媴閸濆嫷鈧矂鏌涢妸銉у煟鐎殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁诲倿骞夊☉銏犵缂備焦顭囬崢鎼佹⒑閸涘﹣绶遍柛鐘愁殜瀹曟劙骞囬悧鍫㈠幐閻庡厜鍋撻悗锝庡墰閻﹀牓鎮楃憴鍕閻㈩垱甯熼悘鎺楁煟閻愬鈻撻柍褜鍓欓崢鏍ㄧ珶閺囥垺鈷戦柛婵嗗閳诲鏌涚€Ｑ冧壕闂備胶枪椤戝棝骞愰幖渚婄稏婵犻潧顑愰弫鍡涙煕鐏炲墽鏁栭柕濞炬櫆閳锋垿鏌涘┑鍡楊伂妞ゎ偓绠撻弻娑㈠籍閳ь剟宕归崸妤冨祦闁告劦鍠栭～鍛存煏閸繃鍣圭紒鎰⊕缁绘繈鎮介棃娴躲垽鎮楀闂寸敖婵″弶鍔欏鎾閳锯偓閹风粯绻涙潏鍓ф偧闁稿簺鍊濆畷鐢稿焵椤掑嫭鈷戦柟鑲╁仜閳ь剚鐗犻幃褔鎮╅懡銈呯ウ闂婎偄娲︾粙鎺楀疾閹间焦鐓ラ柣鏇炲€圭€氾拷
extern uint8_t TL_Data_OTABuf[40];			//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭€瑰嫭鍣磋ぐ鎺戠倞鐟滃寮搁弽顓熺厸闁搞儯鍎遍悘鈺冪磼閹邦収娈滈柡宀€鍠栭幃褔宕奸悢鍝勫殥闂備礁鎲￠崹瑙勬叏閹绢喖鐓橀柟杈鹃檮閸嬫劙鎮楅崷顓炐㈡い銉︾箘缁辨挻鎷呴崫鍕碘偓宀勬煕閵娿儳鍩ｇ€殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁嬫挻鏅跺Δ鍐╂殰闁炽儱纾弳锕傛煙鏉堝墽鐣辩紒鐘差煼閺岀喐锛愭担鍝勫闂佺ǹ绉堕弫璇差潖濞差亝鍤冮柍鐧哥到缂嶅﹪骞冨Ο渚僵妞ゆ垼濮ら悗娲⒑闂堟稓绠為柛濠冪墵閸╂盯骞嬮敂鐣屽幈濠电娀娼уΛ妤咁敂閳哄懏鐓冪憸婊堝礈濞嗘挻鍋夐柣鎾虫捣閺嗭箓鏌熼悧鍫熺凡闁告劏鍋撴俊鐐€栭崝妤呭窗鎼淬垻顩查柣鎰靛墯閸欏繑鎱ㄥΔ鈧Λ妤佹櫠閹殿喚纾煎璺侯儐閵囨繈鏌″畝瀣？濞寸媴濡囬幏鐘诲箵閹烘繃缍嗛梻鍌欐祰椤曟牠宕伴幘璇插瀭鐟滅増甯楅崑鈺呮煥閻斿搫孝缂佺嫏鍥ㄥ仯闁诡厽甯掓俊鍨熆鐠哄搫顏紒杈ㄦ崌瀹曟帒鈻庨幒鎴濆腐闂備焦鍎崇换鎰版煀閿濆懐鏆﹂柨婵嗩槸缁€鍐┿亜閺冨洤浜归柛婵囶殜閺屸剝寰勬繝鍕暤闂佸搫鍊风欢姘暦閹达箑绠婚柟棰佺劍閸嶉潧顪冮妶鍡楃瑨闁稿﹦绮〃娆撴⒒閸屾瑧顦﹂柟纰卞亞閹噣顢曢敃鈧粈澶愭煙鏉堝墽鐣辩紒鐘崇墵閺屾洝绠涚€ｎ亖鍋撻弴鐑嗗晠婵犻潧妫岄弨浠嬫煟濡绲绘い寰板懐纾奸弶鍫涘妽缁€瀣叏婵犲嫮甯涢柟宄版嚇瀹曨偊濡烽‖顔哄妼椤啴濡堕崘銊ュ闂佸湱鎳撳ú銈夋偩瀹勬嫈鏃堝焵椤掑嫸缍栨繝濠傜墕閻掑灚銇勯幒鍡椾壕濡炪倖娲╃紞渚€銆侀弴銏℃櫇闁逞屽墰缁粯绻濆顓炰化闂佹悶鍎滈崘顏堢崜婵＄偑鍊戦崕鑼崲閸繍娼栨繛宸簼椤ュ牊绻涢幋鐐跺妞わ絽鎼埞鎴﹀煡閸℃ぞ绨煎銈冨妼閿曨亪濡存笟鈧顕€宕奸悢鍛婎仧闂備浇娉曢崳锕傚箯閿燂拷
extern uint8_t QRcode_content[50];

extern uint8_t OpenMV_QRcode_Start[8];    //闂傚倸鍊搁崐鎼佸磹閹间礁纾圭€瑰嫭鍣磋ぐ鎺戠倞鐟滃寮搁弽顓熺厸闁搞儯鍎遍悘鈺冪磼閹邦収娈滈柡宀嬬節瀹曞爼鍩℃担鍥风稻閵囧嫰骞囬姣挎挾绱掔紒妯肩疄婵☆偄鍟埥澶娾枎韫囷絾袩缂傚倸鍊搁崐鍝ョ矓閺夋嚚娲敇閵忕姾鎽曢梺鎸庣箓椤︻垳绮诲☉銏♀拻闁割偆鍠撻埥澶嬨亜椤愮喐娅呮い顏勫暣婵″爼宕ㄩ婊庡敹闂備胶绮悧婊堝储瑜旈敐鐐剁疀濞戞瑦鍎柣鐔哥懃鐎氼剛澹曢鐐粹拺闂傚牊鑳嗚ぐ鎺戠？闁哄被鍎查崐闈浳旈敐鍛殲闁抽攱鍨块弻娑樷攽閸℃浼岄梺绋块缁绘垿濡甸崟顖ｆ晣闁绘ɑ褰冮獮瀣⒑缂佹ü绶遍柛鐘崇〒缁鈽夐姀鐘插祮闂佺粯顭囬弫鎼佸储閻楀牏绡€缁炬澘顦辩壕鍧楁煕鐎ｎ偅灏い顓炴处缁诲懐绮斿娆撴⒒閸屾艾鈧嘲霉閸パ呮殾闁割煈鍋呴崣蹇涙煛婢跺娈繛宸簻鍥撮梺鍛婄☉閸婂湱绮欓幋锕€鐓橀柟瀵稿Л閸嬫捇鏁愭惔婵堝嚬闂佽瀵掗崜鐔奉潖閾忚鍠嗛柛鏇ㄥ亞椤︺劌顪冮妶鍡樿偁闁稿繒鍋撶粙鎴︼綖濠婂牆鐒垫い鎺戝閽冪喖鏌￠崶銉ョ仼闂佸崬娲︾换婵嬫濞戞瑧銈╁┑鈽嗗亞閸嬫盯鈥旈崘顔嘉ч柛娑卞灣椤斿洭姊虹紒妯煎⒈闁告鍥风稏闊洦绋掗幆鐐烘偡濞嗗繐顏╃痪缁㈠灦濮婃椽妫冨ù銊ョ秺瀹曟洟寮婚妷锕€鈧爼鏌涢埄鍐剧劷缂佲檧鍋撻梻浣圭湽閸ㄨ棄顭囪缁傛帒饪伴崟顓狀啎閻庣懓澹婇崰鏍ь嚕椤曗偓閺屾洟宕遍弴鐙€妲柧缁樼墪闇夐柨婵嗙墛椤忕娀鏌ｉ敃鈧悧鎾愁潖濞差亜宸濆┑鐘插€歌闂備胶绮幐鎼佹偋婵犲嫧鍋撻棃娑栧仮妤犵偞顭囩槐鎺懳熼柨瀣伜婵犵數鍋犻幓顏嗙礊閳ь剙鈹戦鍝勨偓妤€鈽夐悽绋块唶闁哄洨鍠撻崢閬嶆⒑閹稿海绠撶紒缁樺浮閹箖宕归顐ｎ啍闂佺粯鍔樼亸娆戠不婵犳碍鐓涘ù锝堫潐瀹曞矂鏌℃担瑙勫磳闁轰焦鎹囬弫鎾绘晸閿燂拷
extern uint8_t OpenMV_trafficlight_Start[8];		//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭€瑰嫭鍣磋ぐ鎺戠倞鐟滃寮搁弽顓熺厸闁搞儯鍎遍悘鈺冪磼閹邦収娈滈柡宀嬬節瀹曞爼鍩℃担鍥风稻閵囧嫰骞囬姣挎挾绱掔紒妯肩疄婵☆偄鍟埥澶娾枎韫囷絾袩缂傚倸鍊搁崐鍝ョ矓閺夋嚚娲敇閵忕姾鎽曢梺鎸庣箓椤︻垳绮诲☉銏♀拻闁割偆鍠撻埥澶嬨亜椤愮喐娅呮い顏勫暣婵″爼宕ㄩ婊庡敹闂備胶绮悧婊堝储瑜旈敐鐐剁疀濞戞瑦鍎柣鐔哥懃鐎氼剛澹曢鐐粹拺闂傚牊鑳嗚ぐ鎺戠？闁哄被鍎查崐闈浳旈敐鍛殲闁抽攱鍨块弻娑樷攽閸℃浼岄梺绋块缁绘垿濡甸崟顖ｆ晣闁绘ɑ褰冮獮瀣⒑缂佹ü绶遍柛鐘崇〒缁鈽夐姀鐘插祮闂佺粯顭囬弫鎼佸储閻楀牏绡€缁炬澘顦辩壕鍧楁煕鐎ｎ偅灏い顓炴处缁诲懐绮斿娆撴⒒閸屾艾鈧嘲霉閸パ呮殾闁割煈鍋呴崣蹇涙煛婢跺娈繛宸簻鍥撮梺鍛婄☉閸婂湱绮欓幋锕€鐓橀柟瀵稿Л閸嬫捇鏁愭惔婵堝嚬闂佽瀵掗崜鐔奉潖閾忚鍠嗛柛鏇ㄥ亞椤︺劌顪冮妶鍡樿偁闁稿繒鍋撶粙鎴︼綖濠婂牆鐒垫い鎺戝閽冪喖鏌￠崶銉ョ仼闂佸崬娲︾换婵嬫濞戞瑧銈╁┑鈽嗗亞閸嬫盯鈥旈崘顔嘉ч柛娑卞灣椤斿洭姊虹紒妯煎⒈闁告鍥风稏闊洦鎷嬪ú顏嶆晜鐎广儱妫欏▍鍥⒒娴ｇ懓顕滅紒璇插€块獮濠冩償閵娿儳顔戦梺姹囧灩閹诧繝鍩涢幋锕€绾ч柣鎰綑椤ュ鏌涢弬璺ㄐч柡宀€鍠栭幃鐑芥偋閸喐鍊锋俊鐐€栧ú鈺冪礊娓氣偓閵嗕礁螖閸涱厾顦板銈嗗姇閻燁亪宕堕妸褍骞堥梻浣规灱閺呮盯宕板顑芥灁闁靛繒濡撮崷顓熷厹闂佸灝顑呴锟�

extern uint8_t trafficLight_Color;







extern void LicensePlate_Pattern_recognition(uint8_t model);
extern void QRcode_Recognition(uint8_t tim, uint8_t PT, uint8_t UD);
extern void Traffic_light_recognition(uint8_t choice);
extern void QR(uint8_t size);

#endif